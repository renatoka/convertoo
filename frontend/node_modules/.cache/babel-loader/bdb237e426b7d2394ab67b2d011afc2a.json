{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Kauric\\\\Desktop\\\\Repos\\\\API Work\\\\Flask-React-App-Stream-Tutorial\\\\streaming-tutorial\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import logo from'./logo.svg';import'./App.css';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function App(){var _useState=useState('Initializing...'),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var sse=new EventSource('/stream');function handleStream(e){console.log(e);setData(e.data);}sse.onmessage=function(e){handleStream(e);};sse.onerror=function(e){//GOTCHA - can close stream and 'stall'\nsse.close();};return function(){sse.close();};});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:\"Hello\"});}export default App;","map":{"version":3,"sources":["C:/Users/Kauric/Desktop/Repos/API Work/Flask-React-App-Stream-Tutorial/streaming-tutorial/src/App.js"],"names":["logo","useEffect","useState","App","data","setData","sse","EventSource","handleStream","e","console","log","onmessage","onerror","close"],"mappings":"4LAAA,MAAOA,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAO,WAAP,CACA,OAAQC,SAAR,CAAkBC,QAAlB,KAAiC,OAAjC,C,2CAEA,QAASC,CAAAA,GAAT,EAAe,CAEb,cAAwBD,QAAQ,CAAC,iBAAD,CAAhC,wCAAOE,IAAP,eAAaC,OAAb,eAEAJ,SAAS,CAAC,UAAM,CAEd,GAAMK,CAAAA,GAAG,CAAG,GAAIC,CAAAA,WAAJ,CAAgB,SAAhB,CAAZ,CAEA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACtBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAJ,OAAO,CAACI,CAAC,CAACL,IAAH,CAAP,CACD,CAEDE,GAAG,CAACM,SAAJ,CAAgB,SAAAH,CAAC,CAAG,CAACD,YAAY,CAACC,CAAD,CAAZ,CAAgB,CAArC,CAEAH,GAAG,CAACO,OAAJ,CAAc,SAAAJ,CAAC,CAAI,CACjB;AACAH,GAAG,CAACQ,KAAJ,GACD,CAHD,CAKA,MAAO,WAAM,CACXR,GAAG,CAACQ,KAAJ,GAED,CAHD,CAID,CApBQ,CAAT,CAsBA,mBACE,YAAK,SAAS,CAAC,KAAf,mBADF,CAKD,CAED,cAAeX,CAAAA,GAAf","sourcesContent":["import logo from './logo.svg';\r\nimport './App.css';\r\nimport {useEffect,useState} from 'react'\r\n\r\nfunction App() {\r\n\r\n  const [data, setData] = useState('Initializing...')\r\n\r\n  useEffect(() => {\r\n    \r\n    const sse = new EventSource('/stream')\r\n\r\n    function handleStream(e){\r\n      console.log(e)\r\n      setData(e.data)\r\n    }\r\n\r\n    sse.onmessage = e =>{handleStream(e)}\r\n\r\n    sse.onerror = e => {\r\n      //GOTCHA - can close stream and 'stall'\r\n      sse.close()\r\n    }\r\n\r\n    return () => {\r\n      sse.close()\r\n      \r\n    }\r\n  }, )  \r\n\r\n  return (\r\n    <div className=\"App\">\r\n     Hello \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}